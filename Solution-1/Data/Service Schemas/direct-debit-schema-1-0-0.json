{
  "type": "object",
  "properties": {
    "metadata": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string",
          "const": "1.0.0",
          "maxLength": 30,
          "description": "Semantic version of the schema.",
          "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)?$"
        },
        "PublisherID": {
          "type": "string",
          "description": "An identifier for the system or application that last published or updated a record.",
          "maxLength": 30,
          "enum": ["ACM", "ECM", "EWS", "OFR", "OPS"]
        }
      },
      "required": ["version", "PublisherID"]
    },
    "payload": {
      "type": "object",
      "properties": {
        "AccountHolderName": {
          "type": "string",
          "description": "Shows donator's full name on the card",
          "maxLength": 50
        },
        "Amount": {
          "type": "string",
          "description": "Direct debit amount for donation",
          "maxLength": 20
        },
        "BankAccountCodeCRUK": {
          "type": "string",
          "description": "CRUK Bank account codes supplied to agencies by CRUK. These are used for reconcilliation with Agresso e.g. 144 for CRUK Regional Receipts.",
          "maxLength": 50,
          "enum": [
            "1",
            "100",
            "119",
            "120",
            "121",
            "122",
            "123",
            "129",
            "130",
            "131",
            "134",
            "135",
            "138",
            "139",
            "140",
            "142",
            "143",
            "144",
            "16",
            "19",
            "20",
            "21",
            "22",
            "23",
            "24",
            "25",
            "26",
            "27",
            "29",
            "3",
            "30",
            "32",
            "33",
            "34",
            "36",
            "37",
            "39",
            "42",
            "43",
            "45",
            "6",
            "7101",
            "7103",
            "7104",
            "7403",
            "7405",
            "7513",
            "7516",
            "7522",
            "7523",
            "7524",
            "7601",
            "7605",
            "7607",
            "8236",
            "8260",
            "8261",
            "9996",
            "9997"
          ]
        },
        "BankAccountNumber": {
          "type": "string",
          "description": "A unique eight-digit code that identifies the personal bank account on the card which used for DD payments",
          "maxLength": 10
        },
        "BankSortCode": {
          "type": "string",
          "description": "a 6 digit number that identifies the bank on the card which used for DD payments",
          "maxLength": 6
        },
        "CancellationDate": {
          "type": "string",
          "format": "date-time",
          "description": "Date when the direct debit is cancelled",
          "examples": ["2017-07-21T17:32:28Z", "2017-07-21T17:32:28.123Z"]
        },
        "CancellationReasonCode": {
          "type": "string",
          "description": "Shows cancellation reason code",
          "maxLength": 20
        },
        "DataSource": {
          "type": "string",
          "description": "Attribute is used to indicate the source of the upstream data source",
          "maxLength": 30,
          "enum": [
            "10K",
            "AB",
            "ACM",
            "ACTN",
            "ACTV",
            "ATOS",
            "AWS",
            "BF",
            "BMF",
            "BRAY",
            "BT",
            "CAF",
            "CC",
            "CCDM",
            "CCHAL",
            "CCMP",
            "CONN",
            "CORP",
            "CT",
            "CV",
            "DA",
            "DF",
            "DRP",
            "DYN",
            "EACT",
            "ECM",
            "EDM",
            "EN",
            "ERM",
            "ESS",
            "ET",
            "EWS",
            "FBK",
            "FFL",
            "FNX",
            "FPS",
            "FSS",
            "FSTC",
            "FSTC-Duplicate",
            "FWS",
            "FWSS",
            "GF",
            "GFM",
            "GFT",
            "GG",
            "GTD",
            "HCP",
            "HF",
            "HMD",
            "HR",
            "HS",
            "HX",
            "IMP",
            "JG",
            "JGD",
            "JGDONORS",
            "JGP",
            "JL",
            "LAWB",
            "LI",
            "LOT",
            "ML",
            "MM",
            "MP",
            "ND",
            "NED",
            "NEDA",
            "NEJG",
            "NEVM",
            "OFR",
            "OGN",
            "ONDON",
            "OPF",
            "OPM",
            "ORB",
            "PB",
            "PersonHub",
            "PF",
            "PGMS",
            "POV",
            "PRL",
            "PS",
            "PURE",
            "R4L",
            "R4M",
            "RBS",
            "RE",
            "REDM",
            "REHV",
            "RF",
            "RFR",
            "Salesforce",
            "SBL",
            "SCH-WEB",
            "SHOP",
            "Siebel",
            "SLOT",
            "SP",
            "SPK",
            "SPOK",
            "SPTS",
            "SRM",
            "SS",
            "STS",
            "SUCR",
            "SWCG",
            "TALENT",
            "TCG",
            "TFCR",
            "THSH",
            "TKM",
            "TR",
            "TS",
            "TTTH",
            "UC",
            "UN",
            "UpwardComms",
            "VALL",
            "VGE",
            "VOL",
            "WEB",
            "WI",
            "JOT",
            "NJ",
            "YFR"
          ]
        },
        "DirectDebitStatus": {
          "type": "string",
          "description": "Shows direct debit status like Active, Cancelled",
          "maxLength": 30,
          "enum": ["Active", "Cancelled", "Suspended", "Overdue", "Revised"]
        },
        "EndDate": {
          "type": "string",
          "format": "date-time",
          "description": "Date the authorization of the mandate expires; expiration is automatic according to the rules of the payment method, or it can be set manually.",
          "examples": ["2017-07-21T17:32:28Z", "2017-07-21T17:32:28.123Z"]
        },
        "Frequency": {
          "type": "string",
          "description": "If the donation is a direct debit, this field indicates the frequency of it (monthly, quarterly, annual). If it is not a direct donation then default it to 'Single'",
          "maxLength": 30,
          "enum": ["Once", "Annually", "Half Yearly", "Monthly", "Quarterly"]
        },
        "GADLetterCode": {
          "type": "string",
          "description": "Code indicating the GAD letter to be sent. Value to be defined with the stakeholders and CRM developers",
          "maxLength": 30
        },
        "GADMethod": {
          "type": "string",
          "description": "Method used for the GiftAid declaration",
          "maxLength": 30,
          "enum": ["Online", "Oral", "SMS", "Sponsorship", "Written"]
        },
        "GADType": {
          "type": "string",
          "description": "Gift Aid Type, coming directly from report file (pre populated), no logic from DI process",
          "maxLength": 30,
          "enum": ["Custom GAD", "Enduring GAD", "One-Off GAD", "Rolling GAD"]
        },
        "InMemoryName": {
          "type": "string",
          "description": "Direct Debit done in the memory of a person",
          "maxLength": 100
        },
        "InstructionType": {
          "type": "string",
          "description": "In Siebel, it becomes 'Unknown'. It can be populated as null or Unknown.",
          "maxLength": 30,
          "enum": ["Covenant", "Paperless", "Unknown", "Written"]
        },
        "IsGiftAided": {
          "type": "boolean",
          "description": "Flag that indicates if the supporter wants the direct debit to be gift aid Send true  if supporter says yes to gift aid, false if says no or not applicable(as in collection)",
          "maxLength": 5
        },
        "MandateId": {
          "type": "string",
          "description": "If a DD is set up manually in Siebel, it will auto-generate a reference, which is then submitted to Bacs in the lodgement / claim files. The DD ref is also auto-generated through any other DD data feeds into Siebel, e.g. online sign-ups. It will be also shown in donations as payment id.",
          "maxLength": 30
        },
        "Motivation": {
          "type": "string",
          "description": "Motivation for doing the donation ",
          "maxLength": 100,
          "enum": [
            "CEL",
            "Different reason",
            "I or a loved one has cancer",
            "I or loved one beaten cancer",
            "In memory of someone",
            "MEM"
          ]
        },
        "OwnerType": {
          "type": "string",
          "description": "This field is to indicate if the source sends Organisations or Individual supporters data. If the source clearly identifies the type then they will send 'Organisation' for organisations supporters, 'Supporter' for individual supporters. If the source cannot identify the type then they will send NULL.",
          "maxLength": 30,
          "enum": ["Supporter", "Organisation"]
        },
        "PaymentDay": {
          "type": "string",
          "description": "Day of the month for the direct debit to be taken. Vaild values are 5 or 19",
          "maxLength": 8
        },
        "ProductCode": {
          "type": "string",
          "description": "Used to associate the specific financial code to an activity ",
          "maxLength": 100
        },
        "PublisherID": {
          "type": "string",
          "description": "An identifier for the system or application that last published or updated a record. ",
          "maxLength": 30,
          "enum": ["ACM", "ECM", "EWS", "OFR", "OPS"]
        },
        "RMCampaignCode": {
          "type": "string",
          "description": "This is the unique identifier used for a specific Marketing Campaign",
          "maxLength": 80
        },
        "RMDataSource": {
          "type": "string",
          "description": "This refers to the system that sent the data",
          "maxLength": 30,
          "enum": [
            "10K",
            "AB",
            "ACM",
            "ACTN",
            "ACTV",
            "ATOS",
            "AWS",
            "BF",
            "BMF",
            "BRAY",
            "BT",
            "CAF",
            "CC",
            "CCDM",
            "CCHAL",
            "CCMP",
            "CONN",
            "CORP",
            "CT",
            "CV",
            "DA",
            "DF",
            "DRP",
            "DYN",
            "EACT",
            "ECM",
            "EDM",
            "EN",
            "ERM",
            "ESS",
            "ET",
            "EWS",
            "FBK",
            "FFL",
            "FNX",
            "FPS",
            "FSS",
            "FSTC",
            "FSTC-Duplicate",
            "FWS",
            "FWSS",
            "GF",
            "GFM",
            "GFT",
            "GG",
            "GTD",
            "HCP",
            "HF",
            "HMD",
            "HR",
            "HS",
            "HX",
            "IMP",
            "JG",
            "JGD",
            "JGDONORS",
            "JGP",
            "JL",
            "LAWB",
            "LI",
            "LOT",
            "ML",
            "MM",
            "MP",
            "ND",
            "NED",
            "NEDA",
            "NEJG",
            "NEVM",
            "OFR",
            "OGN",
            "ONDON",
            "OPF",
            "OPM",
            "ORB",
            "PB",
            "PersonHub",
            "PF",
            "PGMS",
            "POV",
            "PRL",
            "PS",
            "PURE",
            "R4L",
            "R4M",
            "RBS",
            "RE",
            "REDM",
            "REHV",
            "RF",
            "RFR",
            "Salesforce",
            "SBL",
            "SCH-WEB",
            "SHOP",
            "Siebel",
            "SLOT",
            "SP",
            "SPK",
            "SPOK",
            "SPTS",
            "SRM",
            "SS",
            "STS",
            "SUCR",
            "SWCG",
            "TALENT",
            "TCG",
            "TFCR",
            "THSH",
            "TKM",
            "TR",
            "TS",
            "TTTH",
            "UC",
            "UN",
            "UpwardComms",
            "VALL",
            "VGE",
            "VOL",
            "WEB",
            "WI",
            "JOT",
            "NJ",
            "YFR"
          ]
        },
        "RMFinancialAccountSubType": {
          "type": "string",
          "description": "A further breakdown of the Financial Account Type. The purpose is to provide more detailed information on how income/expenditure is generated/spent (e.g. entry fee or donations). This maps to activity code in CRUK Finance System.",
          "maxLength": 40
        },
        "RMFinancialAccountType": {
          "type": "string",
          "description": "A categorisation of the source of a transaction into generic types (E.g. Income, expenditure, assets and liabilities to which the transactions are posted) which map to account code in CRUK Finance System. They should be applicable across business units and organisations. ",
          "maxLength": 40
        },
        "RMInMemoriam": {
          "type": "boolean",
          "description": "Indicates that a donation has been made in memory of a person",
          "maxLength": 5
        },
        "RMProductCode": {
          "type": "string",
          "description": "The unique identifier for a specific CRUK financial product",
          "maxLength": 100
        },
        "ReceivedDate": {
          "type": "string",
          "format": "date-time",
          "description": "Date when the direct debit instruction was received from source",
          "examples": ["2017-07-21T17:32:28Z", "2017-07-21T17:32:28.123Z"]
        },
        "RestrictionCode": {
          "type": "string",
          "description": "Code identifying the donation should be restricted to a specific area/cancer type/project.",
          "maxLength": 50,
          "enum": ["CRUK_RESTRICTED_INCOME"]
        },
        "SignedDate": {
          "type": "string",
          "format": "date-time",
          "description": "Date the payer authorized the mandate. NA but it's a requirement",
          "examples": ["2017-07-21T17:32:28Z", "2017-07-21T17:32:28.123Z"]
        },
        "SourceCode": {
          "type": "string",
          "description": "Source code related to the event linked to the direct debit.",
          "maxLength": 30
        },
        "StartDate": {
          "type": "string",
          "format": "date-time",
          "description": "Start date of direct debit payment. Do not send if also sending PaymentDay. Logic exitsts in the CRM to populate this value based on the payment day.",
          "examples": ["2017-07-21T17:32:28Z", "2017-07-21T17:32:28.123Z"]
        },
        "SupporterId": {
          "type": "string",
          "description": "This will be replaced by SupporterSourceId. Unique identifier of the donor. This field is used to link the DD file to the Supporter one. ",
          "maxLength": 100
        },
        "SupporterSourceId": {
          "type": "string",
          "description": "Unique identifier of the donor. This field is used to link the DD file to the Supporter one.",
          "maxLength": 100
        }
      },
      "required": [
        "AccountHolderName",
        "Amount",
        "BankAccountNumber",
        "BankSortCode",
        "DirectDebitStatus",
        "Frequency",
        "MandateId",
        "PaymentDay",
        "PublisherID",
        "ReceivedDate",
        "SourceCode",
        "SupporterId"
      ]
    }
  },
  "required": ["metadata", "payload"]
}
